{% extends 'base.html.twig' %}

{% block title %}All programs
{% endblock %}

{% block main %}
	<h1>Toutes les séries de la table program :</h1>
	<table class="table">
		<thead>
			<tr>
				<th>Title</th>
				<th>Category</th>
				<th>synopsis</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			{% if programs | length > 0 %}
				{% for program in programs %}
					<tr>
						<td>{{ program.title  }}</td>
						<td>{{ program.category.name }}</td>
						<td>{{ program.synopsis}}</td>
						<td>
							<a href="{{ path('program_show', {'slug': program.slug}) }}">show</a>
							{% if is_granted("ROLE_ADMIN") or app.user == program.owner  %}
								<a href="{{ path('program_edit', { 'slug': program.slug} ) }}">Éditer</a>
							{% endif %}
						</td>
					</tr>
				{% endfor %}
			{% else %}
				<tr>
					<td colspan="5">no records found</td>
				</tr>
			{% endif %}
		</tbody>
	</tbody>
</table>


<a href="{{ path('app_index') }}">
	Retour à l'accueil
</a>{% endblock %}
